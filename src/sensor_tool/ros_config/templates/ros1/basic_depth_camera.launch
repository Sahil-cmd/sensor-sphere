<launch>
    <!-- {sensor_description} -->
    <!-- Generated by Sensor Comparison Tool -->

    <!-- Sensor Configuration -->
    <arg name="sensor_serial" default="" />
    <arg name="sensor_name" default="{sensor_id}" />
    <arg name="rgb_width" default="{rgb_width}" />
    <arg name="rgb_height" default="{rgb_height}" />
    <arg name="depth_width" default="{depth_width}" />
    <arg name="depth_height" default="{depth_height}" />
    <arg name="fps" default="{frame_rate}" />

    <!-- Connection Settings -->
    <arg name="connection_type" default="{connection_type}" />

    <!-- Range Settings -->
    <arg name="clip_distance_min" default="{min_range}" />
    <arg name="clip_distance_max" default="{max_range}" />

    <!-- Advanced Settings -->
    <arg name="enable_rgb" default="true" />
    <arg name="enable_depth" default="true" />
    <arg name="enable_pointcloud" default="false" />
    <arg name="enable_aligned_depth" default="false" />

    <!-- TF Settings -->
    <arg name="publish_tf" default="true" />
    <arg name="tf_prefix" default="$(arg sensor_name)" />
    <arg name="base_frame" default="$(arg tf_prefix)_link" />
    <arg name="depth_frame" default="$(arg tf_prefix)_depth_optical_frame" />
    <arg name="rgb_frame" default="$(arg tf_prefix)_color_optical_frame" />

    <!-- Driver Node -->
    <group ns="$(arg sensor_name)">
        <include file="{driver_include_file}">
            <arg name="serial_no" value="$(arg sensor_serial)" />
            <arg name="rgb_width" value="$(arg rgb_width)" />
            <arg name="rgb_height" value="$(arg rgb_height)" />
            <arg name="depth_width" value="$(arg depth_width)" />
            <arg name="depth_height" value="$(arg depth_height)" />
            <arg name="fps" value="$(arg fps)" />
            <arg name="enable_pointcloud" value="$(arg enable_pointcloud)" />
            <arg name="enable_aligned_depth" value="$(arg enable_aligned_depth)" />
            <arg name="publish_tf" value="$(arg publish_tf)" />
            <arg name="tf_prefix" value="$(arg tf_prefix)" />
            <arg name="clip_distance" value="$(arg clip_distance_max)" />
        </include>
    </group>

    <!-- Optional: Static Transform Publisher -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="$(arg sensor_name)_base_link_publisher"
          args="0 0 0 0 0 0 1 world $(arg base_frame)" if="$(arg publish_tf)" />

</launch>
